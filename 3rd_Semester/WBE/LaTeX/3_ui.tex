\section{UI Libraries and Components}

\subsection{Modern Web Development}

\begin{concept}{Component-Based Architecture}
    Key principles:
    \begin{itemize}
        \item Reusable, self-contained components
        \item Unidirectional data flow
        \item Declarative UI definition
        \item Virtual DOM for efficient updates
        \item Component lifecycle management
    \end{itemize}
\end{concept}

\begin{definition}{Framework vs Library}
    \begin{itemize}
        \item \textbf{Library}
            \begin{itemize}
                \item Collection of tools/functions
                \item Application controls flow
                \item Example: jQuery
            \end{itemize}
        \item \textbf{Framework}
            \begin{itemize}
                \item Provides application structure
                \item Controls program flow
                \item Example: Angular
            \end{itemize}
    \end{itemize}
\end{definition}

\subsection{JSX and SJDON}

\begin{KR}{JSX Syntax}
\begin{lstlisting}[language=JavaScript, style=basesmol]
// JSX Component
const Welcome = ({name}) => (
    <div className="welcome">
        <h1>Hello, {name}</h1>
        <p>Welcome to our site!</p>
    </div>
);

// Nested Components
const App = () => (
    <div>
        <Welcome name="User" />
        <div className="content">
            <p>Main content here</p>
        </div>
    </div>
);
\end{lstlisting}
\end{KR}

\begin{KR}{SJDON Syntax}
\begin{lstlisting}[language=JavaScript, style=basesmol]
// SJDON Component
const Welcome = ({name}) => [
    "div", {className: "welcome"},
    ["h1", `Hello, ${name}`],
    ["p", "Welcome to our site!"]
];

// Nested Components
const App = () => [
    "div",
    [Welcome, {name: "User"}],
    ["div", {className: "content"},
        ["p", "Main content here"]
    ]
];
\end{lstlisting}
\end{KR}

\subsection{Component State Management}

\begin{concept}{State Management}
    State types:
    \begin{itemize}
        \item Local component state
        \item Shared/global state
        \item Props (passed from parent)
        \item Derived state (computed from other state)
    \end{itemize}
\end{concept}

\begin{KR}{State Hook Usage}
\begin{lstlisting}[language=JavaScript, style=basesmol]
const Counter = () => {
    // State declaration
    const [count, setCount] = useState(0);
    const [text, setText] = useState("");

    // Event handlers
    const increment = () => setCount(count + 1);
    const handleInput = (e) => setText(e.target.value);

    return [
        "div",
        ["h1", `Count: ${count}`],
        ["button", {onClick: increment}, "Increment"],
        ["input", {
            value: text,
            onInput: handleInput
        }]
    ];
};
\end{lstlisting}
\end{KR}

\begin{KR}{Effect Hook}
\begin{lstlisting}[language=JavaScript, style=basesmol]
const DataFetcher = () => {
    const [data, setData] = useState(null);
    
    useEffect(() => {
        // Runs after component mounts
        fetchData().then(setData);
        
        // Cleanup function
        return () => {
            // Runs before unmount
            cleanup();
        };
    }, []); // Empty deps = run once
    
    return [
        "div",
        data ? ["p", data] : ["p", "Loading..."]
    ];
};
\end{lstlisting}
\end{KR}

\subsection{SuiWeb Implementation}

\begin{concept}{SuiWeb Features}
    \begin{itemize}
        \item Lightweight UI library
        \item Support for JSX and SJDON
        \item State and effect hooks
        \item Virtual DOM implementation
        \item Component lifecycle management
    \end{itemize}
\end{concept}

\begin{KR}{Component Patterns}
\begin{lstlisting}[language=JavaScript, style=basesmol]
// Container Component
const UserContainer = () => {
    const [user, setUser] = useState(null);
    
    useEffect(() => {
        fetchUser().then(setUser);
    }, []);
    
    return [UserProfile, {user}];
};

// Presentation Component
const UserProfile = ({user}) => {
    if (!user) return ["div", "Loading..."];
    
    return [
        "div",
        ["h2", user.name],
        ["p", user.email],
        [UserDetails, {details: user.details}]
    ];
};
\end{lstlisting}
\end{KR}

\subsection{Component Design Best Practices}

\begin{theorem}{Design Principles}
    \begin{itemize}
        \item Single Responsibility Principle
        \item Separation of Concerns
        \item Container/Presentational Pattern
        \item Props Interface Design
        \item State Management Strategy
    \end{itemize}
\end{theorem}

\begin{KR}{Component Architecture}
\begin{lstlisting}[language=JavaScript, style=basesmol]
// Bad: Mixed concerns
const UserCard = () => {
    const [user, setUser] = useState(null);
    
    useEffect(() => {
        fetchUser().then(setUser);
    }, []);
    
    return [
        "div", {className: "card"},
        ["h2", user?.name],
        ["p", user?.email]
    ];
};

// Good: Separated concerns
const UserCardContainer = () => {
    const [user, setUser] = useState(null);
    
    useEffect(() => {
        fetchUser().then(setUser);
    }, []);
    
    return [UserCardView, {user}];
};

const UserCardView = ({user}) => [
    "div", {className: "card"},
    ["h2", user?.name],
    ["p", user?.email]
];
\end{lstlisting}
\end{KR}

\begin{concept}{Performance Optimization}
    \begin{itemize}
        \item Virtual DOM diffing
        \item State updates batching
        \item Component memoization
        \item Lazy loading
        \item Event delegation
    \end{itemize}
\end{concept}

\begin{KR}{Advanced Patterns}
\begin{lstlisting}[language=JavaScript, style=basesmol]
// Higher Order Component
const withLoading = (WrappedComponent) => {
    return (props) => {
        const [loading, setLoading] = useState(true);
        
        useEffect(() => {
            setTimeout(() => setLoading(false), 1000);
        }, []);
        
        if (loading) return ["div", "Loading..."];
        return [WrappedComponent, props];
    };
};

// Compound Components
const Form = ({children}) => [
    "form",
    ...children
];

Form.Input = ({name, label}) => [
    "div",
    ["label", {for: name}, label],
    ["input", {id: name, name}]
];

Form.Submit = ({text}) => [
    "button", 
    {type: "submit"},
    text
];
\end{lstlisting}
\end{KR}

\subsection{React Overview}

\begin{definition}{React Features}
    \begin{itemize}
        \item Component-based architecture
        \item Virtual DOM
        \item JSX syntax
        \item Hooks for state and effects
        \item Large ecosystem
        \item Active community
    \end{itemize}
\end{definition}

\begin{KR}{React vs SuiWeb}
\begin{lstlisting}[language=JavaScript, style=basesmol]
// React Component
const Counter = () => {
    const [count, setCount] = React.useState(0);
    
    return (
        <div>
            <h1>Count: {count}</h1>
            <button onClick={() => setCount(count + 1)}>
                Increment
            </button>
        </div>
    );
};

// SuiWeb Component
const Counter = () => {
    const [count, setCount] = useState(0);
    
    return [
        "div",
        ["h1", `Count: ${count}`],
        ["button", 
            {onclick: () => setCount(count + 1)},
            "Increment"
        ]
    ];
};
\end{lstlisting}
\end{KR}